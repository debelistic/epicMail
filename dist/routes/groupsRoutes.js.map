{"version":3,"sources":["../../server/routes/groupsRoutes.js"],"names":["Router","express","post","Auth","checkToken","verifyToken","ValidateUserInput","checkUser","ValidateGroupsInput","groupForm","GroupController","createGroup","checkAdmin","addGroupMembers","delete","deleteAGroupMember","verifyMail","checkMessageInput","sendGroupMessage","get","getGroupMessages","getAllGroups","patch","checkNewName","editGroupName","deleteGroup"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,GAAGC,iBAAQD,MAAR,EAAf,C,CAEA;;;AACAA,MAAM,CAACE,IAAP,CACE,SADF,EAEEC,cAAKC,UAFP,EAGED,cAAKE,WAHP,EAIEC,uBAAkBC,SAJpB,EAKEC,yBAAoBC,SALtB,EAMEC,yBAAgBC,WANlB,E,CASA;;AACAX,MAAM,CAACE,IAAP,CACE,mBADF,EAEEC,cAAKC,UAFP,EAGED,cAAKE,WAHP,EAIEC,uBAAkBC,SAJpB,EAKEC,yBAAoBI,UALtB,EAMEF,yBAAgBG,eANlB,E,CASA;;AACAb,MAAM,CAACc,MAAP,CACE,2BADF,EAEEX,cAAKC,UAFP,EAGED,cAAKE,WAHP,EAIEC,uBAAkBC,SAJpB,EAKEC,yBAAoBI,UALtB,EAMEF,yBAAgBK,kBANlB,E,CASA;;AACAf,MAAM,CAACE,IAAP,CACE,sBADF,EAEEC,cAAKC,UAFP,EAGED,cAAKE,WAHP,EAIEC,uBAAkBC,SAJpB,EAKEC,yBAAoBQ,UALtB,EAMER,yBAAoBS,iBANtB,EAOEP,yBAAgBQ,gBAPlB,E,CAUA;;AACAlB,MAAM,CAACmB,GAAP,CACE,sBADF,EAEEhB,cAAKC,UAFP,EAGED,cAAKE,WAHP,EAIEC,uBAAkBC,SAJpB,EAKEC,yBAAoBQ,UALtB,EAMEN,yBAAgBU,gBANlB,E,CASA;;AACApB,MAAM,CAACmB,GAAP,CACE,SADF,EAEEhB,cAAKC,UAFP,EAGED,cAAKE,WAHP,EAIEC,uBAAkBC,SAJpB,EAKEG,yBAAgBW,YALlB,E,CAQA;;AACArB,MAAM,CAACsB,KAAP,CACE,kBADF,EAEEnB,cAAKC,UAFP,EAGED,cAAKE,WAHP,EAIEC,uBAAkBC,SAJpB,EAKEC,yBAAoBI,UALtB,EAMEJ,yBAAoBe,YANtB,EAOEb,yBAAgBc,aAPlB,E,CAUA;;AACAxB,MAAM,CAACc,MAAP,CACE,aADF,EAEEX,cAAKC,UAFP,EAGED,cAAKE,WAHP,EAIEG,yBAAoBI,UAJtB,EAKEF,yBAAgBe,WALlB;eAQezB,M","sourcesContent":["import express from 'express';\r\nimport GroupController from '../controllers/GroupController';\r\nimport Auth from '../middleware/Auth';\r\nimport ValidateUserInput from '../middleware/UserValidator';\r\nimport ValidateGroupsInput from '../middleware/GroupsValidator';\r\n\r\nconst Router = express.Router();\r\n\r\n// create groups\r\nRouter.post(\r\n  '/groups',\r\n  Auth.checkToken,\r\n  Auth.verifyToken,\r\n  ValidateUserInput.checkUser,\r\n  ValidateGroupsInput.groupForm,\r\n  GroupController.createGroup,\r\n);\r\n\r\n// admin add members\r\nRouter.post(\r\n  '/groups/:id/users',\r\n  Auth.checkToken,\r\n  Auth.verifyToken,\r\n  ValidateUserInput.checkUser,\r\n  ValidateGroupsInput.checkAdmin,\r\n  GroupController.addGroupMembers,\r\n);\r\n\r\n// admin delete members\r\nRouter.delete(\r\n  '/groups/:id/users/:userid',\r\n  Auth.checkToken,\r\n  Auth.verifyToken,\r\n  ValidateUserInput.checkUser,\r\n  ValidateGroupsInput.checkAdmin,\r\n  GroupController.deleteAGroupMember,\r\n);\r\n\r\n// send group messages\r\nRouter.post(\r\n  '/groups/:id/messages',\r\n  Auth.checkToken,\r\n  Auth.verifyToken,\r\n  ValidateUserInput.checkUser,\r\n  ValidateGroupsInput.verifyMail,\r\n  ValidateGroupsInput.checkMessageInput,\r\n  GroupController.sendGroupMessage,\r\n);\r\n\r\n// get group messages\r\nRouter.get(\r\n  '/groups/:id/messages',\r\n  Auth.checkToken,\r\n  Auth.verifyToken,\r\n  ValidateUserInput.checkUser,\r\n  ValidateGroupsInput.verifyMail,\r\n  GroupController.getGroupMessages,\r\n);\r\n\r\n// get groups\r\nRouter.get(\r\n  '/groups',\r\n  Auth.checkToken,\r\n  Auth.verifyToken,\r\n  ValidateUserInput.checkUser,\r\n  GroupController.getAllGroups,\r\n);\r\n\r\n// admin patch group name\r\nRouter.patch(\r\n  '/groups/:id/name',\r\n  Auth.checkToken,\r\n  Auth.verifyToken,\r\n  ValidateUserInput.checkUser,\r\n  ValidateGroupsInput.checkAdmin,\r\n  ValidateGroupsInput.checkNewName,\r\n  GroupController.editGroupName,\r\n);\r\n\r\n// admin delete group\r\nRouter.delete(\r\n  '/groups/:id',\r\n  Auth.checkToken,\r\n  Auth.verifyToken,\r\n  ValidateGroupsInput.checkAdmin,\r\n  GroupController.deleteGroup,\r\n);\r\n\r\nexport default Router;\r\n"],"file":"groupsRoutes.js"}