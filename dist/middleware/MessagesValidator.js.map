{"version":3,"sources":["../../server/middleware/MessagesValidator.js"],"names":["ValidateMessageInput","checkReceiver","req","res","next","body","receiverEmail","checkReceiverEmailQuery","db","query","checkFeilds","subject","message","status","send"],"mappings":";;;;;;;AAAA;;;;;;;;AAEA,IAAMA,oBAAoB,GAAG;AACrBC,EAAAA,aADqB;AAAA;AAAA;AAAA,6CACPC,GADO,EACFC,GADE,EACGC,IADH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAErBF,GAAG,CAACG,IAAJ,CAASC,aAFY;AAAA;AAAA;AAAA;;AAGjBC,cAAAA,uBAHiB,GAGS,oCAHT;AAAA;AAAA,qBAIjBC,YAAGC,KAAH,CAASF,uBAAT,EAAkC,CAACL,GAAG,CAACG,IAAJ,CAASC,aAAV,CAAlC,CAJiB;;AAAA;AAAA,+CAKhBF,IAAI,EALY;;AAAA;AAAA,+CAOlBA,IAAI,EAPc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AASrBM,EAAAA,WATqB;AAAA;AAAA;AAAA,8CASTR,GATS,EASJC,GATI,EASCC,IATD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAUrB,CAACF,GAAG,CAACG,IAAJ,CAASM,OAAV,IAAqB,CAACT,GAAG,CAACG,IAAJ,CAASO,OAVV;AAAA;AAAA;AAAA;;AAAA,gDAWhBT,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BF,gBAAAA,OAAO,EAAE;AADiB,eAArB,CAXgB;;AAAA;AAAA,gDAelBR,IAAI,EAfc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAA7B;eAmBeJ,oB","sourcesContent":["import db from '../db';\n\nconst ValidateMessageInput = {\n  async checkReceiver(req, res, next) {\n    if (req.body.receiverEmail) {\n      const checkReceiverEmailQuery = 'SELECT * FROM users WHERE $1=email';\n      await db.query(checkReceiverEmailQuery, [req.body.receiverEmail]);\n      return next();\n    }\n    return next();\n  },\n  async checkFeilds(req, res, next) {\n    if (!req.body.subject || !req.body.message) {\n      return res.status(400).send({\n        message: 'Subject and Message should not be empty',\n      });\n    }\n    return next();\n  },\n};\n\nexport default ValidateMessageInput;\n"],"file":"MessagesValidator.js"}